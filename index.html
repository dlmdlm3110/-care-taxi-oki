
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>介護タクシー位置共有アプリ「いまここ」</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIuS7i+itkOOCv+OCr+OCt+ODvOS9jee9ruWFseiCreaOqeOAjOOBhOOBvuOBk+OBk+OAjSIsCiAgInNob3J0X25hbWUiOiAi44GE44G+44GT44GTIiwKICAiZGVzY3JpcHRpb24iOiAi5rKW57iE55yM5YaF44Gu5LuL6K2Q44K/44Kv44K344O85LqL5qWt6ICF5ZCR44GR44Oq44Ki44Or44K/44Kk44Og5L2N572u5oOF5aCx5YWx5pyJ44Ki44OX44OqIiwKICAic3RhcnRfdXJsIjogIi4vIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmZmZmZmIiwKICAidGhlbWVfY29sb3IiOiAiIzMzOTlmZiIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBd0NBTUFBQUJ4Q3hFQUFBQUFCM1JTVFJOVEFEOEFBSGVvd1dTQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNSaUQ4QUFCckxDQk00MFFCQmdMNElnLyIsInNpemVzIjoiNDh4NDgiLCJ0eXBlIjoiaW1hZ2UvcG5nIn0KICA=" >
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            min-height: 100vh;
        }
        
        .step-indicator {
            background: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin: 0 auto 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .step-indicator.active {
            background: #2196f3;
            color: white;
        }
        
        .step-indicator.completed {
            background: #4caf50;
            color: white;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            margin: 20px;
        }
        
        .input-field {
            width: 100%;
            padding: 16px;
            font-size: 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            margin-bottom: 16px;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #2196f3;
        }
        
        .btn {
            width: 100%;
            padding: 18px;
            font-size: 20px;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 12px;
        }
        
        .btn-primary {
            background: #2196f3;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1976d2;
        }
        
        .btn-success {
            background: #4caf50;
            color: white;
        }
        
        .btn-danger {
            background: #f44336;
            color: white;
        }
        
        .btn-warning {
            background: #ff9800;
            color: white;
        }
        
        .btn-secondary {
            background: #9e9e9e;
            color: white;
        }
        
        #map {
            width: 100%;
            height: 100vh;
        }
        
        .map-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        .timer-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            padding: 12px 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            z-index: 1000;
            font-weight: bold;
            color: #2196f3;
        }
        
        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border: 1px solid #ffcdd2;
        }
        
        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border: 1px solid #c8e6c9;
        }
        
        .info-saved {
            background: #e3f2fd;
            color: #1976d2;
            padding: 12px;
            border-radius: 8px;
            margin: 16px 0;
            font-size: 14px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .card {
                margin: 10px;
                padding: 20px;
            }
            
            .map-controls {
                bottom: 10px;
                left: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- ステップ1: 位置情報許可 -->
    <div id="step1" class="container mx-auto max-w-md">
        <div class="card text-center">
            <div class="step-indicator active">1</div>
            <h1 class="text-2xl font-bold mb-4 text-gray-800">介護タクシー位置共有アプリ</h1>
            <h2 class="text-xl font-bold mb-6 text-blue-600">「いまここ」</h2>
            <i class="fas fa-map-marker-alt text-6xl text-blue-500 mb-6"></i>
            <p class="text-lg mb-6 text-gray-700">位置情報を許可してください</p>
            <p class="text-sm mb-8 text-gray-600">現在地を取得して、他の事業者と位置を共有します</p>
            <button id="allowLocationBtn" class="btn btn-primary">
                <i class="fas fa-location-arrow mr-2"></i>位置情報を許可する
            </button>
            <div id="locationError" class="error-message hidden">
                位置情報の取得に失敗しました。設定を確認してください。
            </div>
        </div>
    </div>

    <!-- ステップ2: 事業者情報入力 -->
    <div id="step2" class="container mx-auto max-w-md hidden">
        <div class="card">
            <div class="text-center mb-6">
                <div class="step-indicator completed">1</div>
                <div class="step-indicator active">2</div>
            </div>
            <i class="fas fa-user-tie text-6xl text-blue-500 mb-6 text-center block"></i>
            <h2 class="text-xl font-bold mb-4 text-center">事業者情報を入力</h2>
            <p class="text-center mb-6 text-gray-600">会社名と電話番号を入力してください</p>
            
            <div id="savedInfoNotice" class="info-saved hidden">
                <i class="fas fa-info-circle mr-2"></i>
                前回の情報が保存されています
            </div>
            
            <form id="operatorForm">
                <div class="mb-4">
                    <label class="block text-sm font-bold mb-2 text-gray-700">
                        <i class="fas fa-building mr-2"></i>会社名
                    </label>
                    <input type="text" id="companyName" class="input-field" placeholder="○○介護タクシー" required>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-bold mb-2 text-gray-700">
                        <i class="fas fa-phone mr-2"></i>電話番号
                    </label>
                    <input type="tel" id="phoneNumber" class="input-field" placeholder="090-1234-5678" required>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-map mr-2"></i>地図に登録する
                </button>
                
                <button type="button" id="editInfoBtn" class="btn btn-secondary hidden">
                    <i class="fas fa-edit mr-2"></i>情報を変更
                </button>
                
                <button type="button" id="clearInfoBtn" class="btn btn-warning hidden">
                    <i class="fas fa-trash mr-2"></i>保存された情報を削除
                </button>
            </form>
            
            <div id="registrationError" class="error-message hidden"></div>
            <div id="loadingMessage" class="text-center text-blue-600 hidden">
                <i class="fas fa-spinner fa-spin mr-2"></i>登録中...
            </div>
        </div>
    </div>

    <!-- ステップ3: 地図表示 -->
    <div id="step3" class="hidden">
        <div id="map"></div>
        
        <div class="timer-display">
            <i class="fas fa-clock mr-2"></i>
            残り時間: <span id="timeRemaining">08:00:00</span>
            <div class="text-xs text-gray-600 mt-1">8時間後に自動削除されます</div>
        </div>
        
        <div class="map-controls">
            <div class="text-center mb-4">
                <i class="fas fa-taxi text-blue-500 mr-2"></i>
                <span id="activeCount">1台の介護タクシーが稼働中</span>
            </div>
            <div class="text-sm text-gray-600 text-center mb-4">
                <i class="fas fa-info-circle mr-1"></i>
                マーカーをタップして電話発信
            </div>
            
            <div class="grid grid-cols-2 gap-3">
                <button id="updateLocationBtn" class="btn btn-warning">
                    <i class="fas fa-sync-alt mr-2"></i>位置更新
                </button>
                <button id="endServiceBtn" class="btn btn-danger">
                    <i class="fas fa-stop mr-2"></i>稼働終了
                </button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
        import { getFirestore, collection, addDoc, onSnapshot, deleteDoc, doc, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';

        // Firebase設定
        const firebaseConfig = {
            apiKey: "AIzaSyCJIGNkMZJr4pPvG2YMAx2QaySnD-LZZs",
            authDomain: "care-taxi-okinawa.firebaseapp.com",
            projectId: "care-taxi-okinawa",
            storageBucket: "care-taxi-okinawa.firebasestorage.app",
            messagingSenderId: "1052247620667",
            appId: "1:1052247620667:web:6ccf1f12f5ec6bf36f0f0"
        };

        // Firebase初期化
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const COLLECTION_NAME = 'care_taxi_locations';

        class ImakokoApp {
            constructor() {
                this.currentStep = 1;
                this.userLocation = null;
                this.userDocId = null;
                this.map = null;
                this.markers = [];
                this.unsubscribe = null;
                this.countdownTimer = null;
                this.expirationTime = null;
                this.savedInfo = this.loadSavedInfo();
                
                this.init();
            }

            init() {
                console.log('いまここアプリ初期化開始');
                this.setupEventListeners();
                this.checkSavedInfo();
                this.setupAutoDelete();
            }

            loadSavedInfo() {
                try {
                    const saved = localStorage.getItem('imakoko_user_info');
                    return saved ? JSON.parse(saved) : null;
                } catch (error) {
                    console.error('保存された情報の読み込みエラー:', error);
                    return null;
                }
            }

            saveUserInfo(companyName, phoneNumber) {
                try {
                    const info = { companyName, phoneNumber, savedAt: new Date().toISOString() };
                    localStorage.setItem('imakoko_user_info', JSON.stringify(info));
                    this.savedInfo = info;
                    console.log('ユーザー情報を保存しました');
                } catch (error) {
                    console.error('ユーザー情報の保存エラー:', error);
                }
            }

            clearSavedInfo() {
                try {
                    localStorage.removeItem('imakoko_user_info');
                    this.savedInfo = null;
                    console.log('保存された情報を削除しました');
                } catch (error) {
                    console.error('保存された情報の削除エラー:', error);
                }
            }

            checkSavedInfo() {
                if (this.savedInfo) {
                    document.getElementById('savedInfoNotice').classList.remove('hidden');
                    document.getElementById('companyName').value = this.savedInfo.companyName;
                    document.getElementById('phoneNumber').value = this.savedInfo.phoneNumber;
                    document.getElementById('editInfoBtn').classList.remove('hidden');
                    document.getElementById('clearInfoBtn').classList.remove('hidden');
                }
            }

            setupEventListeners() {
                // 位置情報許可ボタン
                document.getElementById('allowLocationBtn').addEventListener('click', () => {
                    this.getCurrentPosition();
                });

                // フォーム送信
                document.getElementById('operatorForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handleRegistration();
                });

                // 情報変更ボタン
                document.getElementById('editInfoBtn').addEventListener('click', () => {
                    document.getElementById('companyName').readOnly = false;
                    document.getElementById('phoneNumber').readOnly = false;
                    document.getElementById('companyName').focus();
                });

                // 保存情報削除ボタン
                document.getElementById('clearInfoBtn').addEventListener('click', () => {
                    if (confirm('保存された会社名と電話番号を削除しますか？')) {
                        this.clearSavedInfo();
                        document.getElementById('companyName').value = '';
                        document.getElementById('phoneNumber').value = '';
                        document.getElementById('savedInfoNotice').classList.add('hidden');
                        document.getElementById('editInfoBtn').classList.add('hidden');
                        document.getElementById('clearInfoBtn').classList.add('hidden');
                    }
                });

                // 電話番号フォーマット
                document.getElementById('phoneNumber').addEventListener('input', this.formatPhoneNumber);

                // 位置更新ボタン
                document.getElementById('updateLocationBtn').addEventListener('click', () => {
                    this.updateLocation();
                });

                // 稼働終了ボタン
                document.getElementById('endServiceBtn').addEventListener('click', () => {
                    this.endService();
                });

                // 自動削除設定
                this.setupAutoDelete();
            }

            getCurrentPosition() {
                const errorDiv = document.getElementById('locationError');
                errorDiv.classList.add('hidden');

                if (!navigator.geolocation) {
                    this.showError('locationError', '位置情報がサポートされていません');
                    return;
                }

                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        this.userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        console.log('位置情報取得成功:', this.userLocation);
                        this.showStep(2);
                    },
                    (error) => {
                        console.error('位置情報取得エラー:', error);
                        this.showError('locationError', '位置情報の取得に失敗しました。設定を確認してください。');
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 300000
                    }
                );
            }

            formatPhoneNumber(event) {
                let value = event.target.value.replace(/\D/g, '');
                if (value.length >= 6) {
                    value = value.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
                } else if (value.length >= 3) {
                    value = value.replace(/(\d{3})(\d{1,4})/, '$1-$2');
                }
                event.target.value = value;
            }

            async handleRegistration() {
                const companyName = document.getElementById('companyName').value.trim();
                const phoneNumber = document.getElementById('phoneNumber').value.trim();

                if (!companyName || !phoneNumber) {
                    this.showError('registrationError', '会社名と電話番号を入力してください');
                    return;
                }

                if (!this.userLocation) {
                    this.showError('registrationError', '位置情報を取得できませんでした');
                    return;
                }

                this.showLoading(true);

                try {
                    // 重複データを削除
                    await this.removeDuplicateEntries(phoneNumber);

                    // 新しいデータを登録
                    await this.registerOperator({
                        companyName,
                        phoneNumber,
                        latitude: this.userLocation.lat,
                        longitude: this.userLocation.lng
                    });

                    // ユーザー情報を保存
                    this.saveUserInfo(companyName, phoneNumber);

                    this.showStep(3);
                } catch (error) {
                    console.error('登録エラー:', error);
                    this.showError('registrationError', '登録に失敗しました: ' + error.message);
                } finally {
                    this.showLoading(false);
                }
            }

            async removeDuplicateEntries(phoneNumber) {
                try {
                    console.log('重複データ検索中:', phoneNumber);
                    const q = query(collection(db, COLLECTION_NAME), where('phone_number', '==', phoneNumber));
                    const querySnapshot = await getDocs(q);
                    
                    if (!querySnapshot.empty) {
                        console.log(`${querySnapshot.size}件の重複データを発見`);
                        const deletePromises = [];
                        querySnapshot.forEach((doc) => {
                            deletePromises.push(deleteDoc(doc.ref));
                        });
                        await Promise.all(deletePromises);
                        console.log('重複データを削除完了');
                    }
                } catch (error) {
                    console.error('重複データ削除エラー:', error);
                    throw new Error('重複データの削除に失敗しました');
                }
            }

            async registerOperator(data) {
                const now = new Date();
                const expiresAt = new Date(now.getTime() + 8 * 60 * 60 * 1000);

                const docData = {
                    company_name: data.companyName,
                    phone_number: data.phoneNumber,
                    latitude: data.latitude,
                    longitude: data.longitude,
                    created_at: now,
                    expires_at: expiresAt
                };

                const docRef = await addDoc(collection(db, COLLECTION_NAME), docData);
                this.userDocId = docRef.id;
                this.expirationTime = expiresAt;
                console.log('データ登録完了:', docRef.id);
            }

            showStep(step) {
                document.getElementById(`step${this.currentStep}`).classList.add('hidden');
                document.getElementById(`step${step}`).classList.remove('hidden');
                this.currentStep = step;

                if (step === 3) {
                    this.initMap();
                    this.subscribeToOperators();
                    this.startCountdown();
                }
            }

            initMap() {
                const defaultCenter = this.userLocation || { lat: 26.2124, lng: 127.6792 };
                
                this.map = new google.maps.Map(document.getElementById('map'), {
                    center: defaultCenter,
                    zoom: 12,
                    styles: [
                        {
                            featureType: 'poi',
                            elementType: 'labels',
                            stylers: [{ visibility: 'off' }]
                        }
                    ]
                });

                console.log('地図初期化完了');
            }

            subscribeToOperators() {
                const now = new Date();
                const q = query(collection(db, COLLECTION_NAME), where('expires_at', '>', now));

                this.unsubscribe = onSnapshot(q, (snapshot) => {
                    console.log(`Firestoreデータ取得: ${snapshot.size}件`);
                    this.updateMarkers(snapshot.docs);
                }, (error) => {
                    console.error('Firestore監視エラー:', error);
                });
            }

            updateMarkers(docs) {
                // 既存マーカーをクリア
                this.markers.forEach(marker => marker.setMap(null));
                this.markers = [];

                let count = 0;
                docs.forEach(doc => {
                    const data = doc.data();
                    const isCurrentUser = doc.id === this.userDocId;

                    const position = { 
                        lat: Number(data.latitude), 
                        lng: Number(data.longitude) 
                    };

                    const marker = new google.maps.Marker({
                        position: position,
                        map: this.map,
                        title: data.company_name,
                        icon: {
                            url: isCurrentUser ? 
                                'https://maps.google.com/mapfiles/ms/icons/red-dot.png' :
                                'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',
                            scaledSize: new google.maps.Size(32, 32)
                        }
                    });

                    const infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 10px; min-width: 200px;">
                                <h3 style="margin: 0; font-size: 16px; color: #333;">${data.company_name}</h3>
                                <p style="margin: 5px 0;">
                                    <a href="tel:${data.phone_number}" 
                                       style="color: #2196f3; text-decoration: none; font-size: 18px;">
                                        📞 ${data.phone_number}
                                    </a>
                                </p>
                                <small style="color: #666;">タップで電話をかけます</small>
                            </div>
                        `
                    });

                    marker.addListener('click', () => {
                        infoWindow.open(this.map, marker);
                    });

                    this.markers.push(marker);
                    count++;

                    console.log(`マーカー作成: ${data.company_name} at ${position.lat}, ${position.lng}`);
                });

                document.getElementById('activeCount').textContent = `${count}台の介護タクシーが稼働中`;
            }

            startCountdown() {
                if (!this.expirationTime) return;

                this.countdownTimer = setInterval(() => {
                    const now = new Date();
                    const diff = this.expirationTime - now;

                    if (diff <= 0) {
                        document.getElementById('timeRemaining').textContent = '00:00:00';
                        clearInterval(this.countdownTimer);
                        return;
                    }

                    const hours = Math.floor(diff / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                    document.getElementById('timeRemaining').textContent = 
                        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);
            }

            async updateLocation() {
                if (!this.userDocId) return;

                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        const newLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };

                        try {
                            const companyName = document.getElementById('companyName').value;
                            const phoneNumber = document.getElementById('phoneNumber').value;

                            // 古いデータを削除
                            if (this.userDocId) {
                                await deleteDoc(doc(db, COLLECTION_NAME, this.userDocId));
                            }

                            // 新しい位置で再登録
                            await this.registerOperator({
                                companyName,
                                phoneNumber,
                                latitude: newLocation.lat,
                                longitude: newLocation.lng
                            });

                            this.userLocation = newLocation;
                            console.log('位置情報を更新しました');
                        } catch (error) {
                            console.error('位置更新エラー:', error);
                        }
                    },
                    (error) => {
                        console.error('位置取得エラー:', error);
                    }
                );
            }

            async endService() {
                if (confirm('稼働を終了して位置情報を削除しますか？')) {
                    try {
                        await this.deleteUserData();
                        alert('稼働を終了しました。お疲れさまでした。');
                        location.reload();
                    } catch (error) {
                        console.error('稼働終了エラー:', error);
                        alert('稼働終了の処理でエラーが発生しました');
                    }
                }
            }

            async deleteUserData() {
                if (this.userDocId) {
                    await deleteDoc(doc(db, COLLECTION_NAME, this.userDocId));
                    console.log('ユーザーデータを削除しました');
                }
            }

            setupAutoDelete() {
                // ページ離脱時の自動削除
                window.addEventListener('beforeunload', () => {
                    if (this.userDocId) {
                        navigator.sendBeacon('/api/delete', JSON.stringify({ docId: this.userDocId }));
                    }
                });

                window.addEventListener('unload', () => {
                    this.deleteUserData();
                });

                document.addEventListener('visibilitychange', () => {
                    if (document.hidden && this.userDocId) {
                        this.deleteUserData();
                    }
                });
            }

            showError(elementId, message) {
                const errorDiv = document.getElementById(elementId);
                errorDiv.textContent = message;
                errorDiv.classList.remove('hidden');
            }

            showLoading(show) {
                const loading = document.getElementById('loadingMessage');
                if (show) {
                    loading.classList.remove('hidden');
                } else {
                    loading.classList.add('hidden');
                }
            }
        }

        // アプリケーション開始
        window.addEventListener('DOMContentLoaded', () => {
            window.imakokoApp = new ImakokoApp();
        });
    </script>

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8NRDN9NszAV2vnMbhej2Vh-bpqDxCuqU&libraries=geometry" async defer></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDlhihd38yzad7hTBSsWqtt5dQqoiCMLaSJB7d6w%2FT8WmtRfdureJ7L%2B9JU6VzR4voWtYR9qi6xpCSj31TOpOvrtrULAG3Np3G8Ai2oTGUHVS0tc0PyC9i%2BOLnFZFxUiQfzsozCYR%2BiVWZSiTHyvKm14CRXYSleykQSP%2BGzP5NH06VpKpCSycEhIVLhOlrYh06lnIaV1r028IYUItExH%2BwdrILBySsaCE1D4%2BaRN4L71UcR5PryD5Iz%2BfuwZ87OdiuwNspzmNadZpOcsWSKEiAyR6pPkt3BGNMdKoqxPNzk1tHKMweD2tfMiJBNmSldv%2FAfxBkFfw8%2BYGluTABHLzWxrwB5rYJS8dZ%2F8lWQngvnmJRObOXhw33PUTl6HeP6IwwRV48ZZkxVYONB94tIyXFTzo6zO%2BCiudpjiCMbcJm0wxQ5wWIfhjli6dAZouk61XzepIL4okkQgWxR4XOWgU9dV7YfhNcU5JXW0J7Oo0M8t8vKAUMZfh97LiKooCSEJsbSSoPFV%2FjHXCDK3CopNknVY%3D";
        window.__genspark_locale = "ja-JP";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDlhihd38yzad7hTBSsWqtt5dQqoiCMLaSJB7d6w/T8WmtRfdureJ7L+9JU6VzR4voWtYR9qi6xpCSj31TOpOvrtrULAG3Np3G8Ai2oTGUHVS0tc0PyC9i+OLnFZFxUiQfzsozCYR+iVWZSiTHyvKm14CRXYSleykQSP+GzP5NH06VpKpCSycEhIVLhOlrYh06lnIaV1r028IYUItExH+wdrILBySsaCE1D4+aRN4L71UcR5PryD5Iz+fuwZ87OdiuwNspzmNadZpOcsWSKEiAyR6pPkt3BGNMdKoqxPNzk1tHKMweD2tfMiJBNmSldv/AfxBkFfw8+YGluTABHLzWxrwB5rYJS8dZ/8lWQngvnmJRObOXhw33PUTl6HeP6IwwRV48ZZkxVYONB94tIyXFTzo6zO+CiudpjiCMbcJm0wxQ5wWIfhjli6dAZouk61XzepIL4okkQgWxR4XOWgU9dV7YfhNcU5JXW0J7Oo0M8t8vKAUMZfh97LiKooCSEJsbSSoPFV/jHXCDK3CopNknVY=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    
